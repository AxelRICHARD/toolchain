\chapter{ERTMSFormalSpecs}

\begin{description}
\item[\textcolor{green}{Author}] Author of the approaches description Stanislas Pinte (ERTMS Solutions)
\item[\textcolor{blue}{Assessor 1}] First assessor of the approaches Renaud De Landtsheer (Alstom Be)
\item[\textcolor{magenta}{Assessor 2}] Second assessor of the approaches Marielle Petit-Doche (Systerel)
\end{description}

In the sequel, main text is under the responsibilities of the author.

\begin{author_comment}
Author can add comments using this format at any place.
\end{author_comment}

\begin{assessor1}
First assessor can add comments using this format at any place.
\end{assessor1}

\begin{assessor2}
Second assessor can add comments using this format at any place.
\end{assessor2}

When a note is required, please follow this list :
\begin{description}
\item[0] not recommended, not adapted, rejected
\item[1] weakly recommended, adapted after major improvements, weakly rejected
\item[2] recommended, adapted (with light improvements if necessary) weakly accepted
\item[3] highly recommended, well adapted, strongly accepted
\item[*] difficult to evaluate with a note (please add a comment under the table)
\end{description}

All the notes can be commented under each table.

\section{Presentation}

This section gives a quick presentation of the approach and the tool.

\begin{description}
\item[Name] ERTMSFormalSpecs
\item[Web site] https://www.ertmssolutions.com/ertms-formalspecs/
\item[License] EUPL (https://github.com/openETCS/ERTMSFormalSpecs)
\end{description}

\paragraph{Abstract} Short abstract on the approach and tool (10 lines max)

ERTMSFormalSpecs provides a domain-specific language, designed to express the ERTMS specification in a concise and verifiable formal representation. It is understandable by domain specialists while retaining the ability to be translated to executable representations by fully automated means.

\begin{assessor1}
From my experience, a domain-specific language really provides an interesting productivity gain, provided two conditions are met: first: the language should indeed be adapted to the domain, which seems to be the case given the covertness of the subset26 by the models written in this formalism, second: that something can be done downwards with this model, such as code generation, or translation to some other model, or a better understanding of the original document. 
\end{assessor1}

\paragraph{Publications} Short list of publications on the approach (5 max)

\url{http://www.ertmssolutions.com/files/ERTMSFormalSpecs\_WCRR2011.pdf   }
\url{http://www.ertmssolutions.com/files/UsingERTMSFormalSpecsToModelBrakingCurves.pdf}

\section{Main usage of the approach}
\label{main_usage}
This section discusses the main usage of the approach.

According to the figure \ref{fig:main_process}, for which phases do you recommend the approach (give a note from 0 to  3) :

\begin{tabular}{|l | c | c | c | c|}
\hline
& \textcolor{green}{Author} & \textcolor{blue}{Assessor 1} & \textcolor{magenta}{Assessor 2} & Total \\
\hline 
System Analysis & \textcolor{green}{0} & 1    & \textcolor{green}{0} & 1    \\
\hline
Sub-system formal design & 3    & 3    & 3    & \textcolor{red}{\textbf{9}} \\
\hline
Software design & \textcolor{green}{0} & \textcolor{green}{0} & \textcolor{green}{0} & \textcolor{green}{0} \\
\hline
Software code generation & \textcolor{green}{0} & \textcolor{green}{0} & \textcolor{green}{0} & \textcolor{green}{0} \\
\hline
\end{tabular}

\begin{author_comment}
The scope of ERTMSFormalSpecs is, as described above, "a domain-specific language, designed to express the ERTMS specification in a concise and verifiable formal representation."
Therefore, it is targeted to be used for sub-system formal design, not for analysis, software design or software code generation.
\end{author_comment}

\begin{assessor1}
Software code could be generated from such models, eg for simulation purposes, given that the semantics is executable. This could be done from the exports provided by ERTMSFormalSpec (XML or EMF/Eclipse). 
\end{assessor1}

\begin{assessor2}
ERTMSFormalSpecs is a new language, tool supported, to design semi-formal model of ERTMS specification. However, elements of methjods are still missing to know how to use and integrate the language and tools in a whole development. 
\end{assessor2}

According to the figure \ref{fig:main_process}, for which type of activities do you recommend the approach (give a note from 0 to  3) :

\begin{tabular}{|l | c | c | c | c|}
\hline
& \textcolor{green}{Author} & \textcolor{blue}{Assessor 1} & \textcolor{magenta}{Assessor 2} & Total \\
\hline 
Documentation & 3    & 3    & 1    & \textcolor{magenta}{7} \\
\hline
Modeling & 3    & 3    & 3    & \textcolor{red}{\textbf{9}} \\
\hline
Design & 3    & 3    & 3    & \textcolor{red}{\textbf{9}} \\
\hline
Code generation & \textcolor{green}{0} & 1    & \textcolor{green}{0} & 1   \\
\hline
Verification & 3    & 3    & 1    & \textcolor{magenta}{7} \\
\hline
Validation & 3    & 3    & 3    & \textcolor{magenta}{8} \\
\hline
Safety analyses & \textcolor{green}{0} & \textcolor{green}{0} & \textcolor{green}{0} & \textcolor{green}{0} \\
\hline
\end{tabular}

\begin{assessor1}
ERTMSFormalSpec incorporates a simulator, which can be driven step by feeding it with test cases. 
The ERTMS tooling performs a limited set of validation described in section 6.9 "`Model validations"' of the document EFSW\_User\_Guide.pdf. These are rather syntactic validation, and not behavioral ones. More validation can be done through testing. Test cases incorporate expectations that are checked during the execution of the test case. Notice that there is no mechanism to attach expectation to the model, e.g. to a state, or state machine. ERTMSFormalSpec provides a covertness report mechanism for test cases, to identify which rule has been executed during a test suite. 
\end{assessor1}

\begin{assessor2}
The tool allow the generation of some reports as data dictionary, specification issues or coverage reports, but no element to understand how the system works in the model. The current produced elements are not sufficient for a design process.

For verification, it is difficult through the document to understand what is verified. It is verifications are those provided by the tool as lexical or syntax verification. I have not find other kind of verification as type or coverage. How to verify the model in a more general way (indeed that the model specifies well the informal specification) is not describe in the documents.
\end{assessor2}


\paragraph{Known usages} Have you some examples of usage of this approach to compare with the OpenETCS objectives ?

\begin{author_comment}
The ERTMSFormalSpecs approach has been designed specifically for the purpose of modelling an OBU application software. The ERTMSFormalSpecs approach is 100\% aligned with the OpenETCS objective 1, which is to have a 100\% semi-formal model of the SSRS. 
\end{author_comment}

\section{Language}
This section discusses the main element of the language.

Which are the main characteristics of the language :

\begin{tabular}{|l | c | c | c | c|}
\hline
& \textcolor{green}{Author} & \textcolor{blue}{Assessor 1} & \textcolor{magenta}{Assessor 2} & Total \\
\hline 
Informal language & \textcolor{green}{0} & \textcolor{green}{0} & \textcolor{green}{0} & \textcolor{green}{0} \\
\hline 
Semi-formal language & 3    & 3    & 3    & \textcolor{red}{\textbf{9}} \\
\hline
Formal language & 3    & 3    & 1    & \textcolor{magenta}{7} \\
\hline
Structured language & 3    & 3    & 2    & \textcolor{magenta}{8} \\
\hline 
Modular language & 3    & 3    & 1    & \textcolor{magenta}{7} \\
\hline
Textual language & 3    & 2    & 2    & \textcolor{magenta}{7} \\
\hline
Mathematical symbols or code & 3    & 3    & 3    & \textcolor{red}{\textbf{9}} \\
\hline
Graphical language & 3    & 3    & 2    & \textcolor{magenta}{7} \\
\hline
\end{tabular}

\begin{assessor1}
Regarding the "`Graphical Language"' item, ERTMSFormalSpec provides a graphical rendering of the state machines present in the model, and these representation are editable. Besides, I did not see a graphical rendering of the data flows between components i.e.: an architectural view. 
\end{assessor1}


\begin{assessor2}
ERTMS Formal Spec is not a formal language :  semantic is not clearly defined thus no formal verification can be done.

Concerning structure and modularity, the language allows to follows for the model the structure of the input document, and modules follow this structure. But this way do not allow to have a really modular design :  all the data are stored in the same database, and not clear share of function is provide to allow the design of module in an independent way.

Graphical language concerns only state machines.
\end{assessor2}

According WP2 requirements, give a note for the capabilities of the language (from 0 to 3) :

\begin{tabular}{|l | c | c | c | c|}
\hline
& \textcolor{green}{Author} & \textcolor{blue}{Assessor 1} & \textcolor{magenta}{Assessor 2} & Total \\
\hline
Declarative formalization of properties (D2.6-02-066) & \textcolor{green}{0} & 1    & \textcolor{green}{0} & 1    \\
\hline
Simple formalization of properties (D2.6-02-066.01) & 2    & \textcolor{green}{0} & \textcolor{green}{0} & 2    \\
\hline
Scalability : capability to design large model & 3    & 3    & 1    & \textcolor{magenta}{7} \\
\hline
Easily translatable to other languages (D2.6-02-068) & 3    & 3    & 1    & \textcolor{magenta}{7} \\
\hline
Executable directly (D2.6-02-071) & 3    & 3    & \textcolor{green}{0} & \textcolor{blue}{6} \\
\hline
Executable after translation to a code (D2.6-02-071) & 3    & 3    & 3    & \textcolor{red}{\textbf{9}} \\
(precise if the translation is automatic) & 2    & 1    & 1    & 4    \\
\hline
Simulation, animation (D2.6-02-071) & 3    & 3    & 3    & \textcolor{red}{\textbf{9}} \\
\hline
Easily understandable (D2.6-02-065) & 3    & 2    & 2    & \textcolor{magenta}{7} \\
\hline
Expertise level needed (0 High level, 3 few level) & 2    & 2    & 2    & \textcolor{blue}{6} \\
\hline
Standardization (D2.6-02-067) & 3    & 2    & 1    & \textcolor{blue}{6} \\
\hline
Documented (D2.6-02-067) & 3    & 3    & 2    & \textcolor{magenta}{7} \\
\hline
Extensible language (D.2.6-01-28) & 3    & 2    & 3    & \textcolor{magenta}{7} \\
\hline
\end{tabular}

\begin{assessor1}
ERTMSFormalSpec models are easily translatable to other language, but I fear that the language is so rich and domain-specific (braking curve feature) that the target language will need to be very rich as well to produce human-understandable models. Regarding the animation, I feel that a more structured insight could be given about the model during the simulation, e.g. illustrating the interaction between modules of the model. The extensibility of the language seems to arise from the openness of the supporting tool. No extension mechanism is described in the documentation (EFSW\_Technical\_Design.pdf, and EFSW\_User\_Guide.pdf)
\end{assessor1}


\begin{assessor2}
What I understand from the tool is that the test can be executed directly but the model itself can not be executed (as a C code for example)  and shall be translated.

Standardization is poor due to no methodological guide to apply the approach.
\end{assessor2}

\paragraph{Documentation} Describe how the language is documented, the existing guidelines, coding rules, standardization...

ERTMSFormalSpecs provides the following documentation set:

\begin{itemize}
	\item EFSW\_Release\_Notes.pdf (\url{https://github.com/openETCS/ERTMSFormalSpecs/blob/master/ErtmsFormalSpecs/doc/EFSW\_Release\_Notes.pdf})
	\item EFSW\_Technical\_Design.pdf (\url{https://github.com/openETCS/ERTMSFormalSpecs/blob/master/ErtmsFormalSpecs/doc/EFSW\_Technical\_Design.pdf})
	\item EFSW\_User\_Guide.pdf (\url{https://github.com/openETCS/ERTMSFormalSpecs/blob/master/ErtmsFormalSpecs/doc/EFSW\_User\_Guide.pdf})
	\item ERTMSFormalSpecs-Tutorial (\url{https://github.com/openETCS/ERTMSFormalSpecs/wiki/ERTMSFormalSpecs-Tutorial})
	\item ERTMSFormalSpecs-FAQ (\url{https://github.com/openETCS/ERTMSFormalSpecs/wiki/ERTMSFormalSpecs-FAQ})
\end{itemize}

\paragraph{Language usage} Describe the possible restriction on the language

\section{System Analysis}
This section discusses the usage of the approach for system analysis.
It can be skipped depending the results of \ref{main_usage}.

Acoording WP2 requirements, how the approach can be involved for the sub-system requirement specification ?

\begin{tabular}{|l | c | c | c | c|}
\hline
& \textcolor{green}{Author} & \textcolor{blue}{Assessor 1} & \textcolor{magenta}{Assessor 2} & Total \\
\hline
Independent System functions definition (D2.6-02-045.02.1)  & 3    & 3    & 1    & \textcolor{magenta}{7}  \\
\hline 
% Renaud De Landtsheer: I changed the requirement reference from (D2.6-02-045.02) to (D2.6-02-045.02.2), I think that it was a typo
System architecture design (D2.6-02-045.02.2) & 3    & 3    & 1    & \textcolor{magenta}{7} \\
\hline
System data flow identification (D2.6-02-045.02.3)  & 3    & 2    & 1    & \textcolor{magenta}{7} \\
\hline
Sub-system focus (D2.6-02-045.02.4)  & 3    & 3    & 2    & \textcolor{magenta}{8} \\
\hline
System interfaces definition (D2.6-02-045.02.5)  & 3    & 3    & 1    & \textcolor{magenta}{7} \\
\hline
System requirement allocation (D2.6-02-045.03)  & 3    & 3    & 3    & \textcolor{red}{\textbf{9}} \\
\hline
Traceability with SRS (D2.6-02-045.05)  & 3    & 3    & 2    & \textcolor{magenta}{8} \\
\hline
Traceability with Safety activities (D2.6-02-046)  & \textcolor{green}{0} & \textcolor{green}{0} & \textcolor{green}{0} & \textcolor{green}{0} \\
\hline
\end{tabular}

\begin{author_comment}
Although ERTMSFormalSpecs is not made for system analysis, it can be used for the following aspects on system level: Modelling of (separate) system functions, data flows, state machines and interfaces. It also provides complete SRS traceability support.  
\end{author_comment}

\begin{assessor1}
Although the data flows between components, and the interfaces of components (which are a fragment of the data flows) are represented in the model, I do not see a simple (e.g. graphical) rendering of them, so a user needing this information in a synthetic way might need to extract it by hand with the current version of the tool. I do believe that this feature is rather easy to add, so my score is 2 for (D2.6-02-045.02.3). 
\end{assessor1}


\begin{assessor2}
Data are reprenset by a general data base, and decomposition between components and functions is not obviously  accessible in a graphical way. How to obtain the data flow between two  functions is not clearly defined.
I do not see how to have with tool a clear and easy understanding (graphical as an SADT diagram for example) view of the architecture of the system, the data flow between functions and interfaces.
\end{assessor2}

\section{Sub-System formal design}
This section discusses the usage of the approach for sub-system formal design.
It can be skipped depending the results of \ref{main_usage}.

Two kinds of model can be planned during this phase: semi-formal models to  cover the SSRS (D2.6-02-047.01) and strictly formal  models to  focus on some functional and safety aspects (D2.6-02-049). Obviously some strictly  formal means can be used to define the semi-formal  model.

\subsection{Semi-formal model}

\begin{author_comment}
ERTMSFormalSpecs models are formal in the sense that the ERTMSFormalSpecs language is fully defined with a grammar and complete semantics. However, they are semi-formal in the sense that there is no mathematical proof theory at the basis of the language definition.  
\end{author_comment}

Concerning semi-formal model, how the WP2 requirements are covered ?

\begin{tabular}{|l | c | c | c | c|}
\hline
& \textcolor{green}{Author} & \textcolor{blue}{Assessor 1} & \textcolor{magenta}{Assessor 2} & Total \\
\hline 
Consistency to SSRS (D2.6-02-047.02) & 3    & 3    & 3    & \textcolor{red}{\textbf{9}} \\
\hline
Coverage of SSRS (D2.6-02-047.02.01)  & 3    & 3    & 3    & \textcolor{red}{\textbf{9}} \\
\hline
Coverage of SSHA (D2.6-02-047.02.02)  & 3    & 3    & 2    & \textcolor{magenta}{8}  \\
\hline
Management of requirement justification (D2.6-02-047.02.03)  & 3    & 3    & 1    & \textcolor{magenta}{7}  \\
\hline
Traceability to  SSRS (D2.6-02-047.02.05)  & 3    & 3    & 3    & \textcolor{red}{\textbf{9}}  \\
\hline
Traceability of exported requirements (D2.6-02-047.02.06)  & 3    & 3    & 1    & \textcolor{magenta}{7}  \\
\hline
Simulation or animation (D2.6-02-048 partial)  & 3    & 3    & 3    & \textcolor{red}{\textbf{9}}  \\
\hline
Execution (D2.6-02-048 partial)  & 3    & 3    & 2    & \textcolor{magenta}{8}  \\
\hline
Extensible to strictly formal model (D2.6-02-049.3) & 3    & 3    & 1    & \textcolor{magenta}{7} \\
\hline
Easy to refine towards strictly formal model (D2.6-02-049.4) & 3    & 2    & 1    & \textcolor{blue}{6}  \\
\hline
Extensible and modular design (D2.6-02-050)  & 3    & 3    & 2    & \textcolor{magenta}{8}  \\
\hline
Extensible to software architecture and design (D2.6-02-068)   & 3    & 3    & 1    & \textcolor{magenta}{7}  \\
\hline
\end{tabular}


\begin{assessor1}
Concerning "`Extensible to strictly formal model (D2.6-02-049.3)"', This perfectly illustrates the usefulness of a domain-specific language, where things are easy to represent, and where the formalization process forces one to resolve all form of unclear features of the requirements specification. 

Concerning "`Easy to refine towards strictly formal model (D2.6-02-049.4)"', the D2.6 mentions a transformation process. Since such process can be implemented as soon as a formal semantics is available. Since this process is not available as from today, I have to put a mark 2. 

Concerning "`Extensible and modular design (D2.6-02-050)"', the language is itself modular and extensible, however, this modularity and extensibility could be made more efficient if synthetic views on the structure of the model were available (see my remark on data-flows and interface above). 
\end{assessor1}

\begin{assessor2}
No example of coverage of SSHA is given, thus it is difficult to evaluate. Concerning management of requirement justification and traceability to exported requirements, the current model do not show how this can be systematically covered.

Concerning extension to formal model or modular design or software design, The current elements (document, GUI)  do not allow to give a clear view of the structure and if this structure can be easily translated to  the structure of an another language. For example, formal language dedicated to software design as Scade or Classical B, how to structure the model and to define its architecture is an important part of the language, to allow the design of efficient software. i do not see how to link the structure of an ERTMS Formal Spec model closed to SRS to  the one of a software.

\end{assessor2}


Concerning safety properties management, how the WP2 requirements are covered ?

\begin{tabular}{|l | c | c | c | c|}
\hline
& \textcolor{green}{Author} & \textcolor{blue}{Assessor 1} & \textcolor{magenta}{Assessor 2} & Total \\
\hline 
Safety function isolation (D2.6-02-052)  & 1    & 1    & 1    & 3    \\
\hline 
Safety properties formalisation (D2.6-02-057)  & 2    & 2    & 2    & \textcolor{blue}{6} \\
\hline
Logical expression (D2.6-02-066.02.01)  & 2    & 3    & 2    & \textcolor{magenta}{7} \\
\hline
Timing constraints (D2.6-02-066.02.02)  & 2    & 2    & 2    & \textcolor{blue}{6} \\
\hline
Safety properties validation (D2.6-02-058.02)  & 2    & 2    & 1    & \textcolor{blue}{5} \\
\hline
Logical properties assertion (D2.6-02-072)  & 2    & 3    & 2    & \textcolor{magenta}{7} \\
\hline
Check  of assertions (D2.6-02-072.1)  & 2    & 2    & 1    & \textcolor{blue}{5} \\
\hline
\end{tabular}

\begin{author_comment}
ERTMSFormalSpecs is a modelling language for functions. Therefore, only the functional aspects of properties are addressed.  
\end{author_comment}

\begin{assessor1}
ERTMSFormalSpec includes the possibility to declaratively state a property, called "`expectation"' attached to a test step. Their truth value is evaluated during the test execution. They can encompass logical conditions, deadlines, and some state-machine specific conditions. 
Timing constraints are restricted to deadline enforcement. More intricate conditions on time cannot be represented, as they would require the use of non-available temporal operators. 
\end{assessor1}


\begin{assessor2}
For the moment the only way to validate a safety property is to define a test and run it.
\end{assessor2}

Does the language allow to  formalize (D2.6-02-069):

\begin{tabular}{|l | c | c | c | c|}
\hline
& \textcolor{green}{Author} & \textcolor{blue}{Assessor 1} & \textcolor{magenta}{Assessor 2} & Total \\
\hline 
State machines  & 3    & 3    & 3    & \textcolor{red}{\textbf{9}} \\
\hline
Time-outs  & 3    & 3    & * & \textcolor{blue}{6} *  \\
\hline
Truth tables  & 3    & 2   + & * & \textcolor{blue}{5} *  \\
\hline
Arithmetic  & 3    & 3    & 3    & \textcolor{red}{\textbf{9}}  \\
\hline
Braking curves  & 3    & 3    & 3    & \textcolor{red}{\textbf{9}} \\
\hline
Logical statements & 3    & 3    & 3    & \textcolor{red}{\textbf{9}}  \\
\hline
Message and fields & 3    & 3    & 3    & \textcolor{red}{\textbf{9}} \\
\hline
\end{tabular}

\begin{assessor1}
Truth tables can de represented as functions ranging on booleans, and returning a boolean. There is no graphical support for them, but this can be added very easily to the tool, hence I've put a mark 2+ for this criterion. 
\end{assessor1}


\begin{assessor2}
The current model does not cover the §  3.5 on session management and the §4, thus it is difficult to evaluate the capabilities of the language to treat time-outs and truth tables.
\end{assessor2}


\paragraph{Additional comments on semi-formal  model} Do you think your semi-formal  model is sufficient to cover a safe design of the on-board unit until code generation ?
All comments on links to  other models, validation and verification activities are welcomed.

\begin{author_comment}
ERTMSFormalSpecs has been designed to model the Subset-026 and test the S026 model, without taking Safety aspects into account initially.    
\end{author_comment}

\subsection{Strictly formal model}

Concerning strictly formal model, how the WP2 requirements are covered ?

\begin{author_comment}
Even though ERTMSFormalSpecs models are formal, ERTMSFormalSpecs doesn't aim to be used a strictly formal model, for proving purposes, in the context of the OpenETCS project. Therefore that section is skipped from evaluation.  
\end{author_comment}

\begin{assessor1}
I skip this part as well
\end{assessor1}

\begin{assessor2}
I skip it too.
\end{assessor2}


\section{Software design}
This section discusses the usage of the approach for software design.
It can be skipped depending the results of \ref{main_usage}.

\begin{author_comment}
ERTMSFormalSpecs scope is limited to modelling in the large (modelling, test and documentation). Therefore, software design section is skipped.  
\end{author_comment}

\begin{assessor1}
I skip this part as well
\end{assessor1}


\begin{assessor2}
I skip it too.
\end{assessor2}


\section{Software code generation}
This section discusses the usage of the approach for software code generation.
It can be skipped depending the results of \ref{main_usage}.

\begin{author_comment}
ERTMSFormalSpecs scope is limited to modelling in the large (modelling, test and documentation). Therefore, software code generation section is skipped.  
\end{author_comment}

\begin{assessor1}
I skip this part as well
\end{assessor1}


\begin{assessor2}
I skip it too.
\end{assessor2}


\section{Main usage of the tool}
\label{main_usage}

This section discusses the main usage of the tool.

Which task are covered by the tool ?

\begin{tabular}{|l | c | c | c | c|}
\hline
& \textcolor{green}{Author} & \textcolor{blue}{Assessor 1} & \textcolor{magenta}{Assessor 2} & Total \\
\hline 
Modelling support & 3    & 3    & 3    & \textcolor{red}{\textbf{9}} \\
\hline
Automatic translation  & 1    & 1    & \textcolor{green}{0} & 2    \\
\hline
Code Generation  & 1    & 1    & \textcolor{green}{0} & 2    \\
\hline
Model verification & 3    & 3    & 1    & \textcolor{magenta}{7} \\
\hline
Test generation & 1    & 1    & 2    & 4    \\
\hline
Simulation, execution, debugging & 3    & 3    & 2    & \textcolor{magenta}{8} \\
\hline
Formal proof & \textcolor{green}{0} & \textcolor{green}{0} & \textcolor{green}{0} & \textcolor{green}{0} \\
\hline
\end{tabular}



\begin{assessor2}
The only verification supported is lexical and syntactical verification, no means are provided to check for example types, domains, or properties.

It is possible to write and simulate tests.
\end{assessor2}


\paragraph{Modelling support}
Does the tool provide a  textual or a graphical editor ?

\begin{author_comment}
Both.
\end{author_comment}

\begin{assessor1}
The editor is primarily a structured text editor where every bit of the model can be edited as a little text. 
A non-editable textual rendering is provided for some fragments of code, a.k.a. procedures, and a graphical editor is specifically available for state machines. 
\end{assessor1}

\paragraph{Automatic translation and code generation}
Which translation or code generation is supported by the tool ?

\begin{author_comment}
As of today, the ERTMSFormalSpecs model is available both as an XML file and as an EMF model. The EMF model can be used to develop model-to-model translator (for instance ERTMSFormalSpecs->SCADE) or code generators.
\end{author_comment}


\begin{assessor2}
Is there any document to describe this translation from ERTMSFormalSpecs to an another language ?
\end{assessor2}



\paragraph{Model verification}
Which verification on models are provided by the tool?

\begin{author_comment}
The ERTMSFormalSpecs model can be tested, by writing ERTMSFormalSpecs test cases in ERTMSFormalSpecs language (based on steps, actions and expectations), executing and debugging these test cases, and generating a test report. 

ERTMSFormalSpecs test cases can also be executed in an automated fashion for nightly build non-regression testing purposes.
\end{author_comment}



\begin{assessor2}
It is not clear if these test are part of validation activities or verification activities.
\end{assessor2}


\paragraph{Test generation}
Does the tool allow to generate tests ? For  which purpose ?

\begin{author_comment}
No, ERTMSFormalSpecs doesn't allow to generate tests. Integration between ERTMSFormalSpecs and RT-Tester is under study, to allow for automatic ERTMSFormalSpecs model test cases generation.
\end{author_comment}

\paragraph{Simulation, execution, debugging}
Does the tool allow to simulate or to debug step by step a model or a code ?

\begin{author_comment}
Yes, all of this is described in the ERTMSFormalSpecs User Guide.
\end{author_comment}


\begin{assessor2}
It is not clear if the test or the model are executed.
\end{assessor2}



\paragraph{Formal proof}
Does the tool allow formal proof ?  How ?

\begin{author_comment}
No, ERTMSFormalSpecs doesn't allow formal proof. 
\end{author_comment}

\section{Use of the tool}

According WP2 requirements, give a note for characteristics of the use of the tool (from 0 to 3) :

\begin{tabular}{|l | c | c | c | c|}
\hline
& \textcolor{green}{Author} & \textcolor{blue}{Assessor 1} & \textcolor{magenta}{Assessor 2} & Total \\
\hline 
Open Source (D2.6-02-074) & 3    & 3    & 3    & \textcolor{red}{\textbf{9}}  \\
\hline 
Portability to operating systems (D2.6-02-075) & 2    & 3    & 1    & \textcolor{blue}{6}  \\
\hline
Cooperation of tools (D2.6-02-076) & 3    & 3    & 1    & \textcolor{magenta}{7} \\
\hline
Robustness (D2.6-02-078) & 3    & 3    & 1    & \textcolor{magenta}{7} \\
\hline
Modularity (D2.6-02-078.1) & 3    & 3    & 2    & \textcolor{magenta}{8} \\
\hline
Documentation management (D2.6-02-078.02) & 2    & 2    & 1    & \textcolor{blue}{5} \\
\hline
Distributed software development (D2.6-02-078.03)  & 2    & 2    & 1    & \textcolor{blue}{5} \\
\hline
Simultaneous multi-users (D2.6-02-078.04)   & 1    & 1    & 1    & 3    \\
\hline
Issue tracking (D2.6-02-078.05) & 3    & 3    & 3    & 3    \\
\hline
Differences between models (D2.6-02-078.06) & 1    & 2    & 1    & 4    \\
\hline
Version management (D2.6-02-078.07) & 2    & 3    & 1    & \textcolor{blue}{6} \\
\hline
Concurrent version development (D2.6-02-078.08) & 2    & 2    & 1    & \textcolor{blue}{5} \\
\hline
Model-based version control (D2.6-02-078.09) & 2    & 2    & 1    & \textcolor{blue}{5} \\
\hline
Role traceability (D2.6-02-078.10) & 1    & 1    & \textcolor{green}{0} & 2    \\
\hline
Safety version traceability (D2.6-02-078.11) & \textcolor{green}{0} & \textcolor{green}{0} & \textcolor{green}{0} & \textcolor{green}{0} \\
\hline
Model traceability (D2.6-02-079) & 3    & 3    & 3    & \textcolor{red}{\textbf{9}} \\
\hline
Tool chain integration & 2    & 2    & 1    & \textcolor{blue}{5} \\
\hline
Scalability & 3    & 3    & 1    & \textcolor{magenta}{7} \\
\hline
\end{tabular}

\begin{assessor2}
The current version of the tool does not allow to  define how to  have a multi-users development of large scale system.
\end{assessor2}

\section{Certifiability}

This section discusses how the tool can be classified according EN50128 requirements (D2.6-02-085).

\begin{author_comment}
ERTMSFormalSpecs has EN50128 certifiability compliance outside of its scope, for the version available as of today. Certifiability compliance may be in the scope of future versions. However, relevant sections of this section are filled.
\end{author_comment}

\begin{tabular}{|l | c | c | c | c|}
\hline
& \textcolor{green}{Author} & \textcolor{blue}{Assessor 1} & \textcolor{magenta}{Assessor 2} & Total \\
\hline 
Tool manual (D.2.6-01-42.02) & 3    & 3    & 2    & \textcolor{magenta}{8}  \\
\hline
Proof of correctness (D.2.6-01-42.03) & 2    & 1    & 1    & 4    \\
\hline
Existing industrial  usage &  0 & \textcolor{green}{0} & \textcolor{green}{0} & \textcolor{green}{0} \\
\hline
Model verification & 3    & 3    & 1    & \textcolor{magenta}{7} \\
\hline
Test generation & \textcolor{green}{0} & \textcolor{green}{0} & \textcolor{green}{0} & \textcolor{green}{0} \\
\hline
Simulation, execution, debugging & 3    & 3    & 2    & \textcolor{magenta}{8} \\
\hline
Formal proof & \textcolor{green}{0} & \textcolor{green}{0} & \textcolor{green}{0} & \textcolor{green}{0} \\
\hline
\end{tabular}

\paragraph{Other elements for tool certification}

\section{Other comments}
Please to  give free comments on the approach.

\begin{assessor1}
To me, the main strengths of this approach are: 
\begin{itemize}
\item its very strong support for traceability to the Subset26, and to the Subset-076 for test cases
\item its domain-specific language, which is
\begin{itemize}
\item productive for this field, thanks to its expressivity, illustrated by the primitives developed for braking curves; 
\item scalable, as is demonstrated by the large fraction of the Subset26 which has been represented so far. 
\end{itemize}
\end{itemize}

To me, the main weaknesses of this approach are: 
\begin{itemize}
\item its rather unfriendly look and feel, notably for the graphical editing of state machine, and for the global overview of the model, whose structure seems to match the one of the Subset26, and its lack of graphical rendering of the architecture, which would possibly ease the navigation in the model. 
\item its rather unfamiliar notation. 
\end{itemize}
The first can be improved rather easily, and the second can be coped with given that it was developped specifically to capture the Subset26. They should not be considered as blocking issues. 

The ERTMSFormalSpec tooling is nearly exclusively centered on the model elaboration. Some tool integration should be developed to exploit the model developed with ERTMSFormalSpec. This can be done based on the exports of ERTMSFormalSpec (XML or EMF/Eclipse). 

ERTMSFormalSpec is specifically devoted to the modeling of the Subset26 as it is which makes it a very credible and adapted tooling for the elaboration of a semi-formal model of this system. It is especially credible given the large fraction of the Subset26 that is already modeled in this framework. 

Finally, all languages are a trade-off between what we want to express, and what we are able to handle (i.e.: compile, analyze, verify, etc). As a domain-specific language ERTMSFormalSpec is clearly choosing the expressivity over the handling, yet it remains an interpretable (but Turing-complete) language. 
\end{assessor1}


\begin{assessor2}
ERTMSFormalSpecs is a tool supported language devoted to  the design of semi-formal models and tests of ERTMS systems. However it is strange to define a new textual notation and not to  use an existing one (the notation is found on first order logic) which could facilitate the reading of the models.

Besides, in the current state, there is a lack of methodological descriptions to  use the langauge and the tool. A model is designed, but it is not clearly  defined what the aim to  define the model and how it can be integrated with other activities.  For example, choices are been done during the modelling, but it is not clear how to  verify these choices, as coverage of the SRS.
\end{assessor2}
