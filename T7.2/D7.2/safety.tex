

\chapter{Safety support}
\label{sec:safety}

This section is dedicated to tools and means to support safety analyses.


\section{Candidates}

The list of initial candidates is shown below.  Those tools without a a reference on a subsection have not been evaluated further, due to lack of engagement (no partner was willing to sponsor such an evaluation).

\begin{description}
\item [Rodin and Pluggins] see \ref{sec:eventb_safe}
\item [CPN tools] see \ref{sec:CPN}
\item [Goal Structuring Notation (GSN)] see \ref{sec:GSN}
\item [Safety Architect]
\end{description}

\subsection{EventB, Rodin and pluggins}
\label{sec:eventb_safe}

\begin{description}
\item[Name] Event-B and the Rodin platform
\item[Web site] \url{http://www.event-b.org}
\item[Licence] Common Public License Version 1.0 (CPL)
\end{description}

\paragraph{Abstract}

Rodin is an open source tool for formal modeling and verification on the system
level using the Event-B formalism. Event-B is based on set-theoretic notation of
first-order logic (FOL) and has its roots in the B method which has a long
history of successful application in industry on software level development.

Rodin is fully integrated into the Eclipse platform and is therefore fully
extensible through plug-ins. Existing plug-ins include graphical modeling using
state-machines, model simulators, modern state-of-the art SMT solvers and
Rational DOORS interoperable requirements tracing using ReqIf documents and
ProR.

\paragraph{Publications}

\begin{itemize}
\item The leaflet~\cite{RodinLeaflet} contains a short overview of the Rodin
  tool
\item The book~\cite{RodinHandbook} explains the usage of Rodin and serves as a
  gentle introduction into Event-B modeling in Rodin
\item The book~\cite{Abrial:2010:MES:1855020} contains an extensive presentation
  of Event-B an several modeling examples for different system
\item The scientific journal article~\cite{AbrialBHHMV10} contains an in-depth
  look at the integration of Event-B into the Rodin platform
\end{itemize}



A quantitative evaluation is available in \url{https://github.com/openETCS/toolchain/blob/master/T7.2/O7.2.1_Safety/O7-2-1_Safety.pdf}

\paragraph{Added value for OpenETCS project}

  Rodin and Event-B do not directly support a hazard or risk analysis. Their
  goal is to strengthen the confidence in the correctness of an external safety
  analysis, by providing means to represent safety requirements (in particular
  functional requirements) in a formal model and to verify them there or to
  validate the intended behavior wrt.\ safety by simulating and observing the
  model.

  Sub-system requirements can be specified and verified, if the formal model
  contains a representation of the sub-systems. While this can be achieved by
  refinement, it should be kept in mind that Event-B aims at system-level
  modeling and analysis, and therefore there could be better alternatives to
  analyze a very detailed model on implementation level.

  The main application of Rodin is to formalize and verify the safety
  requirements where applicable. This supports the verification of the
  correctness of the arguments in the safety case, therefore strengthening the
  confidence in these arguments, but also to provide insight into probably
  lacking aspects of the safety case.

 The Event-B approach is based on iterative refinements form the most abstract
  model to the desired level of detail. It is therefore a to-down approach, a
  bottom-up approach does not make sense using Event-B.

  And database connection would require the development of additional plug-ins,
  but would be possible.

  VnV of safety requirements is achieved by formal proof and simulation to
  validate correct functionality.

  Traceability is achieved by the connection to ProR.

  Generation of some documentation is already supported, as Latex documents can
  be generated from models. For more extensive documentation, e.g.,\ links with
  safety requirements, some additional functionality would have to be developed.
\

\paragraph{Integration in OpenETCS process and toolchain}

  The Rodin platform is fully based on Eclipse.

  The existing graphical modeling plug-ins for Rodin could be connected to
  Papyrus. This would require the development of a transformation of the
  different formats.

  With SCADE there could be the possibility of interoperation via the SCADE
  System SysML framework.

  With Classical B tools, there is the possibility to generate predicates for
  guards and invariants directly from the Event-B model. As classical B is based
  on text files and Event-B on XML file, there would be some development work to
  do.
  
 \subsection{CPN Tools}
 \label{sec:CPN}
 
 \begin{description}
 \item[Name] CPN Tools
 \item[Website] http://cpntools.org/
 \item[Licence] Open Source (GPL/LGPL)
 \end{description}
 
 \paragraph{Abstract} CPN Tools is a tool for editing, simulating, and analyzing Colored Petri nets.
 
 The tool features incremental syntax checking and code generation, which take place while a net is being constructed. A fast simulator efficiently handles untimed and timed nets. Full and partial state spaces can be generated and analyzed, and a standard state space report contains information, such as boundedness properties and liveness properties.
 
 \paragraph{Publications} Please refer to http://cpntools.org/publications
 
 Slides available on github \url{https://github.com/openETCS/model-evaluation/blob/master/Telco_Secondary_slides/b-Introduction_CPNTools.pdf}.
 
 A quantitative evaluation is available in \url{https://github.com/openETCS/toolchain/blob/master/T7.2/O7.2.1_VnV/O7-2-1_VnV.pdf}
 
 \paragraph{Added value for OpenETCS project}
 
 Petri Nets as a means of description are used in research an in industrial applications used for Process Modeling, Data analysis, Software design and Reliability engineering. Coloured Petri Nets are  High-level Petri Nets which are mainly used to describe, simulate and validated communication between humans and/or computers. As a means of description Coloured and  Hierarchic Petri nets allow to use one uniform means of description for the entire development cycle, starting with  the specification through to  implementation. 
 Coloured petri nets are standardised as part of the high level petri nets in ISO/IEC 15909 Systems and software engineering - High-level Petri nets. The use of petri nets for the system dependability analysis is standardised in IEC 62551 Analysis techniques for dependability - Petri net modeling. In addition Coloured petri nets and the CPN Tools are introduced and documented in the book \textit{Coloured Petri Nets -- Modeling and Validation of Concurrent Systems} by K. Jensen and L.M. Kristensen. CPN Tools is a mature tool suite for coloured petri nets which provides support to edit, check, simulate and analyse nets on all relevant abstraction levels. CPN Tools has a graphical editor to model nets and provides various methods to analyse the nets, most importantly a reachability analysis. 
 
 Petri nets are a strictly formal means of description suited for formal proof of behavioural and structural properties. The nets are mainly verified by generation and analysis of the state space. The tool supports the calculation and drawing of the state space, which is used to verify certain logical and temporal properties of the system. Additional model checker can be combined with the tool to provide additional functionalities. In context of the openETCS work coloured petri nets and CPN Tools provide a variable and efficient option for test models to validate the behaviour of the openETCS model. Especially, CPN Tools models can be used to specify and test timing properties.
 
 The simulation engine of CPN tools provides a powerful simulation of petri nets and has a number of debugging functions. It does not support test generation, but provides interfaces for other tools to do so. Correspondingly, tools like SPENAT can be used to generate and manage all kinds of tests for the nets created with CPN Tools. 
 
\subsection{Assurance Case Argument Editor}
\label{sec:GSN}

\begin{description}
\item[Name] Assurance Case Argument Editor (ACedit) as an editor for the Goal Structuring Notation (GSN)
\item[Web site] https://code.google.com/p/acedit/
\item[Licence] Eclipse Public License 1.0
\end{description}

\paragraph{Abstract}

A safety case is a collection of documents, which shall demonstrate that the system fulfills conditions to guaranty a safe behavior. Therefore, an argumentation chain has to be constructed to demonstrate that from the evidence available it can be reasonably concluded that a system is acceptably safe.  The Goal Structuring Notation (GSN) is a known  approach  for  constructing such argumentation chains, which refer to the explicit documentation of claims about a system,  and  explanation  of  how  these  claims  are  convincingly  supported  by evidence generated during different activities in design, verification and validation of that system.
The ACedit is a tool implementation of this approach realized as eclipse plug-ins under the Eclipse project. The tool supports the graphical construction of argument chains in GSN and a number of model management techniques that apply to them.

The key features are the following
\begin{enumerate}
\item Graphical editor for the GSN, based on the GSN standard
\item Graphical editor for the ARM, based on the ARM metamodel available by sysa.omg.org
\item Model management tasks for the GSN editor like Model validation and In-place model transformation 
\item Model transformation between GSN and ARM models 
\end{enumerate}
    
The graphical editors of ACedit are based on the definition of GSN and ARM metamodels, which are defined in the EMFatic language.        

\paragraph{Publications}

\begin{itemize}
\item George Despotou, Aris Apostolakis, Dimitris Kolovos: Assuring Dependable and Critical Systems: Implementing the Standards for Assurance Cases with ACedit
\item Tim Kelly and Rob Weaver: The Goal Structuring Notation – A Safety Argument Notation 
\end{itemize}

Slides are available on github in 
\url{https://github.com/openETCS/model-evaluation/blob/master/Telco_Secondary_slides/psn_20130311_Tool-Presentation-GSN_1-0_jw.pdf}

A quantitative evaluation is available in 
\url{https://github.com/openETCS/toolchain/blob/master/T7.2/O7.2.1_Safety/O7-2-1_Safety.pdf}

\paragraph{Added value for OpenETCS project}

To structure the safety case with GSN allows us to present a clear outline of the argumentation chain and the specific relations between the numerous documents. In this way a consistent generic safety case for the overall development of an on-board system based on the openETCS development process can be presented as a GSN model. All documents already created in the openETCS work can be linked to the GSN argumentation structure to present an easy overview about the safety case and the status the documents and their relation. This creates a common understanding of the openETCS safety argumentation and helps to show the specific context for their work to all different working groups. 

\paragraph{Integration in OpenETCS process and toolchain}

The safety case task will establish based on the ongoing work of design and verification and validation activities the underlying argumentation chain, which shall demonstrate that the openETCS development process fulfills required quality and safety aspects. This will first be done by modeling the theoretical argumentation chain given by the development methodology. 
As the work goes on the general steps in the argumentation chain are enhanced through the actual artifacts which are created during the design and corresponding verification steps. the same will be done with all validations results for the design artifacts. 
As the ACedit editor is already based on Eclipse the existing to can be integrated in the basic tool chain environment to link the argumentation chain elements to specific design elements. All purely document based argumentation and conclusion parts will be linked to the GSN model via their presentation in the git repository. Therefore, a connection between the ACedit tool and the GIT repository has to be established. To do this the already existing options in the eclipse framework shall be used.


\section{Selected means and tools}

As of this writing, no final tools have been selected.  The V\&V team will take advantage of the evaluation, as the need for tools arises.
