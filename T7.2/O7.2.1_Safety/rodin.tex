\chapter{Rodin}
\label{sec:rodin}

\section{Author and Assessors}

\begin{description}
\item[\textcolor{green}{Author}] Matthias GÃ¼demann --- Systerel
\item[\textcolor{blue}{Assessor 1}] First assessor of the approaches \todo{Name - Company}
\item[\textcolor{magenta}{Assessor 2}] Second assessor of the approaches \todo{Name - Company}
\end{description}

\section{Presentation}

\begin{description}
\item[Name] Event-B and the Rodin platform
\item[Web site] \url{http://www.event-b.org}
\item[Licence] Common Public License Version 1.0 (CPL)
\end{description}

\paragraph{Abstract}

Rodin is an open source tool for formal modeling and verification on the system
level using the Event-B formalism. Event-B is based on set-theoretic notation of
first-order logic (FOL) and has its roots in the B method which has a long
history of successful application in industry on software level development.

Rodin is fully integrated into the Eclipse platform and is therefore fully
extensible through plug-ins. Existing plug-ins include graphical modeling using
state-machines, model simulators, modern state-of-the art SMT solvers and
Rational DOORS interoperable requirements tracing using ReqIf documents and
ProR.

\paragraph{Publications}

\begin{itemize}
\item The leaflet~\cite{RodinLeaflet} contains a short overview of the Rodin
  tool
\item The book~\cite{RodinHandbook} explains the usage of Rodin and serves as a
  gentle introduction into Event-B modeling in Rodin
\item The book~\cite{Abrial:2010:MES:1855020} contains an extensive presentation
  of Event-B an several modeling examples for different system
\item The scientific journal article~\cite{AbrialBHHMV10} contains an in-depth
  look at the integration of Event-B into the Rodin platform
\end{itemize}

For which activities are dedicaded the means or tools (give a note from 0 to  3) :

\begin{tabular}{|l | c | c | c | c|}
\hline
& \textcolor{green}{Author} & \textcolor{blue}{Assessor 1} & \textcolor{magenta}{Assessor 2} & Total \\
\hline
Data Management & 0  & & &  \\
\hline
Function Management & 2 & & & \\
\hline
Requirement Management & 2 & & & \\
\hline
Version Management & 2 & & & \\
\hline
Other (give details below) & 3 & & & \\
\hline
\end{tabular}

\begin{author_comment}
  Rodin is a specialized tool to formally model and verify abstract functional
  behavior. Therefore data management is not in its scope, as this is clearly a
  lower level detail aspect, more on the implementation level.

  \textbf{Function Management:} A Rodin model contains high level function
  descriptions, i.e.,\ an abstract view of the observable system behavior and
  its effect on the system state. It is therefore well suited to be included in
  function management, by formalizing the abstract behavior of the functions,
  tracing any changes and observing their effect on the intended functioning of
  the system.

  \textbf{Version Management:} Rodin does not contain a version management
  itself. Its files are based on XML, therefore any modern version control
  system can be used, in particular those (like svn/mercurial/git) for which an
  Eclipse plug-in exists. There also exists a pug-in that is compatible to
  model-compare in Eclipse, i.e.,\ allows for comparison on the model level
  instead of text level.

  \textbf{Other:} Rodin can provide an important support for
  \textbf{traceability}, which is missing here. It allows for linking formal
  model aspects to a requirements document, e.g.,\ a ReqIf document in ProR. Any
  changes in the specification can therefore be traced in the formal Event-B
  model and system-level aspects can be formally verified.
\end{author_comment}

\section{Common criteria on secondary means and tools}
\label{common}
This section discusses the common criteria of the means and tools according to the project requirements on tools and the results of T7.1.

\subsection{Project and WP2 requirements}

The objectives of this list of criteria is to check if the proposed means and tools meet the main criteria of the project: open-source approaches, usability, modularity, coverage of the objectives,...

According WP2 requirements, give a note for characteristics of the use of the tool (from 0 to 3) :

\begin{tabular}{|l | c | c | c | c|}
\hline
& \textcolor{green}{Author} & \textcolor{blue}{Assessor 1} & \textcolor{magenta}{Assessor 2} & Total \\
\hline
Open Source (D2.6-02-074) & 3 & & &  \\
\hline
Portability to operating systems (D2.6-02-075) & 3 & & &  \\
\hline
Cooperation of tools (D2.6-02-076) & 3 & & &  \\
\hline
Robustness (D2.6-02-078) & 3 & & & \\
\hline
Modularity (D2.6-02-078.1) & 3 & & & \\
\hline
Documentation management (D2.6-02-078.02) & 2 & & & \\
\hline
Distributed software development (D2.6-02-078.03)  & 3 & & & \\
\hline
Simultaneous multi-users (D2.6-02-078.04)   & 2 & & & \\
\hline
Issue tracking (D2.6-02-078.05) & 2 & & & \\
\hline
Differences between models (D2.6-02-078.06) & 2 & & & \\
\hline
Version management (D2.6-02-078.07) & 3 & & & \\
\hline
Concurrent version development (D2.6-02-078.08) & 3 & & & \\
\hline
Model-based version control (D2.6-02-078.09) & 2 & & & \\
\hline
Role traceability (D2.6-02-078.10) & 1 & & & \\
\hline
Safety version traceability (D2.6-02-078.11) & 3 & & & \\
\hline
Model traceability (D2.6-02-079) & 3 & & & \\
\hline
Tool chain integration & 3 & & & \\
\hline
Scalability & 2 & & & \\
\hline
User Friendliness & 2 & & & \\
\hline
\end{tabular}

\begin{author_comment}
  Rodin is based on Eclipse, therefore existing plug-ins can be used for many of
  the above aspects. Many of those are applicable without any changes, for
  others, some Rodin / Event-B specific modifications might be necessary.
\end{author_comment}

\subsection{Qualification}

This section discusses how the tool can be classified according EN50128 requirements (D2.6-02-085). Some qualification shall be mandatory  if the tool is involved to design a SIL4 software.


\begin{tabular}{|l | c | c | c | c|}
\hline
& \textcolor{green}{Author} & \textcolor{blue}{Assessor 1} & \textcolor{magenta}{Assessor 2} & Total \\
\hline
Tool manual (D.2.6-01-42.02) & 3 & & &  \\
\hline
Proof of correctness (D.2.6-01-42.03)   & 2 & & & \\
\hline
Existing industrial  usage  & 3 & & & \\
\hline
Model verification & 3 & & & \\
\hline
Test generation & 0 & & & \\
\hline
Simulation, execution, debugging & 3 & & & \\
\hline
Formal proof & 3 & & & \\
\hline
\end{tabular}


Which level of tool qualification has been reached or will be reached within the next year ?


Score :
\begin{description}
\item[3] already qualified for this level
\item[2] qualification possible to this level, but some elements shall be provided
\item[0] qualification not recommended for this level
\end{description}


\begin{tabular}{|l | c | c | c | c|}
\hline
& \textcolor{green}{Author} & \textcolor{blue}{Assessor 1} & \textcolor{magenta}{Assessor 2} & Total \\
\hline
class T1 & 2 & & &  \\
\hline
class T2  & 2 & & & \\
\hline
class T3  & 0 & & & \\
\hline
\end{tabular}

\begin{author_comment}
  The Rodin tool aims at system-level analysis, therefore it will not be
  necessary to qualify it as T3 tool, as no output is generated that can
  directly contribute to the executable code.
\end{author_comment}


\paragraph{Other elements for tool certification}


\subsection{Complementarity with primary toolchain}

The objectives of this list of criteria is to check if the proposed means and tools can be easily integrated to the primary toolchain.

\subsubsection{Language}


According to the decisions and the propositions of T7.1, how the mean and approach can be adapted to or can complete the chosen language and methods:

\begin{tabular}{|l | c | c | c | c|}
\hline
& \textcolor{green}{Author} & \textcolor{blue}{Assessor 1} & \textcolor{magenta}{Assessor 2} & Total \\
\hline
SysML  & 2 & & & \\
\hline
Scade method & 1 & & & \\
\hline
EFS language & 0 & & & \\
\hline
B Method & 3 & & & \\
\hline
C language & 2 & & & \\
\hline
\end{tabular}

\paragraph{SysML}
How the means or tools can complete SysML ?

\begin{author_comment}
  Rodin allows graphical modeling of (UML) state machines, which are encoded
  into Event-B models. SysML state machines are very similar to this and with a
  bit of effort could be supported directly.
\end{author_comment}


\paragraph{Scade, EFS, Classical B}
How the means or tools can complete the current proposals for formal modeling language ?

\begin{author_comment}
  A light-weight interoperability with SCADE is possible, either via SCADE
  Systems which uses SysML or via SCADE state machines. This would allow a
  larger effort for integration. The data-flow part of SCADE does not seem to be
  applicable in an Event-B model.

  As Event-B has its roots in the B language, several aspects of these languages
  are definitively compatible. For example the invariant predicates of Event-B
  can directly be used in a lower level B model. If the abstraction levels for
  data are not the same, an additional refinement step could be added to solve
  this problem.

  There does not seem to be a good interoperation possibility with the EFS
  language.
\end{author_comment}


\paragraph{C language}
How the means or tools can complete or be adapted to SIL4 software in C language ?

\begin{author_comment}
  A possible combination of an Event-B model and a C implementation is to use
  the predicate logic invariants as C asserts and the guards as preconditions of
  functions. As the abstraction level of the C implementation is much lower than
  the Event-B models, this would require some work to identify the right
  functions and data formats or to introduce higher level wrapper functions
  similar to Event-B events. Such asserts and pre-conditions could be verified
  by tools like SPARK, why3 etc.
\end{author_comment}

\subsection{Tools and platforms}

According to the decisions and the propositions of T7.1, how the mean and approach can be integrated to or can complete the chosen tools and platforms:

\begin{tabular}{|l | c | c | c | c|}
\hline
& \textcolor{green}{Author} & \textcolor{blue}{Assessor 1} & \textcolor{magenta}{Assessor 2} & Total \\
\hline
Eclipse & 3 & & &  \\
\hline
Papyrus  & 2 & & & \\
\hline
Scade & 1 & & & \\
\hline
EFS tools & 1 & & & \\
\hline
B tools & 2 & & & \\
\hline
\end{tabular}


\paragraph{Eclipse}
How the means or tools can be integrated to the Eclipse platform ?

\begin{author_comment}
  The Rodin platform is fully based on Eclipse.
\end{author_comment}

\paragraph{Papyrus}
How the means or tools can complete  Papyrus ?

\begin{author_comment}
  The existing graphical modeling plug-ins for Rodin could be connected to
  Papyrus. This would require the development of a transformation of the
  different formats.
\end{author_comment}


\paragraph{Scade, EFS, Classical B}
How the means or tools can complete the current proposals for formal modeling tools ?

\begin{author_comment}
  With SCADE there could be the possibility of interoperation via the SCADE
  System SysML framework.

  With Classical B tools, there is the possibility to generate predicates for
  guards and invariants directly from the Event-B model. As classical B is based
  on text files and Event-B on XML file, there would be some development work to
  do.

  For the EFS tools there are some interoperation possibilities on the EMF
  level, as both Rodin and EFS have an EMF model of the artifacts. However, as
  seen in the section above, how the two languages could interoperate is not
  clear.
\end{author_comment}

\section{Means and tools for safety activities support}
\label{sec:safety}


This section defines the criteria for the means and tools dedicated to support of safety activities, in the WP4 workpackage.

Criteria of this section are defined according \citep{D4.2.a}.

\subsection{Safety activities}

Which safety design activities are covered by the mean or tool (see \citep{D4.2.a} section 1.2) ?

\begin{tabular}{|l | c | c | c | c|}
\hline
& \textcolor{green}{Author} & \textcolor{blue}{Assessor 1} & \textcolor{magenta}{Assessor 2} & Total \\
\hline
Preliminary Hazard Analysis & 0 & & &  \\
\hline
System Hazard and Risk Analysis & 0 & & & \\
\hline
Risk Assessment & 0 & & & \\
\hline
Specification of System Safety Requirements & 2 & & &  \\
\hline
Define Safety Related Functional Requirements & 3 & & & \\
\hline
Specify Sub-System and Component
Safety requirements & 2 & & & \\
\hline
Verify System, Sub-System and Component
Safety requirements & 2 & & &  \\
\hline
Validate System Safety Requirements & 3 & & & \\
\hline
Establish Safety Case & 2 & & & \\
\hline
\end{tabular}

\begin{author_comment}
  Rodin and Event-B do not directly support a hazard or risk analysis. Their
  goal is to strengthen the confidence in the correctness of an external safety
  analysis, by providing means to represent safety requirements (in particular
  functional requirements) in a formal model and to verify them there or to
  validate the intended behavior wrt.\ safety by simulating and observing the
  model.

  Sub-system requirements can be specified and verified, if the formal model
  contains a representation of the sub-systems. While this can be achieved by
  refinement, it should be kept in mind that Event-B aims at system-level
  modeling and analysis, and therefore there could be better alternatives to
  analyze a very detailed model on implementation level.
\end{author_comment}

\subsection{Input Artifacts}

Which artifacts are used as input of the mean or tool (see \citep{D4.2.a} section 1.4) ?


\begin{tabular}{|l | c | c | c | c|}
\hline
& \textcolor{green}{Author} & \textcolor{blue}{Assessor 1} & \textcolor{magenta}{Assessor 2} & Total \\
\hline
Safety Requirement & 3 & & &  \\
\hline
Hazard log & 1 & & & \\
\hline
Safety Case & 3 & & & \\
\hline
\end{tabular}

\begin{author_comment}
  The main application of Rodin is to formalize and verify the safety
  requirements where applicable. This supports the verification of the
  correctness of the arguments in the safety case, therefore strengthening the
  confidence in these arguments, but also to provide insight into probably
  lacking aspects of the safety case.
\end{author_comment}

\subsection{Output Artifacts}

Which artifacts are used as output of the mean or tool (see \citep{D4.2.a} section 1.4) ?


\begin{tabular}{|l | c | c | c | c|}
\hline
& \textcolor{green}{Author} & \textcolor{blue}{Assessor 1} & \textcolor{magenta}{Assessor 2} & Total \\
\hline
Safety Requirement & 3 & & &  \\
\hline
Hazard log & 1 & & & \\
\hline
Safety Case & 3 & & & \\
\hline
\end{tabular}

\begin{author_comment}
  The output of Rodin could be a detected error or lacking element in on of the
  safety requirement or in the argumentation of the safety case. It can
  therefore provide important feedback and increase the quality of the
  requirements and the confidence in the safety case.
\end{author_comment}

\subsection{Expressiveness}


Which degree of formalisation is given to the artifacts by mean or tools (see \citep{D4.2.a} section 1.4) ?


\begin{tabular}{|l | c | c | c | c|}
\hline
& \textcolor{green}{Author} & \textcolor{blue}{Assessor 1} & \textcolor{magenta}{Assessor 2} & Total \\
\hline
Informal & 0 & & &  \\
\hline
Semi-Formal & 0 & & & \\
\hline
Formal & 3 & & & \\
\hline
\end{tabular}

\begin{author_comment}
  The Event-B language is fully formal.
\end{author_comment}

\subsection{Other criteria}
According to \citep{D4.2.a} section 2.2, provide some complement on the mean or tool:


\begin{tabular}{|l | c | c | c | c|}
\hline
& \textcolor{green}{Author} & \textcolor{blue}{Assessor 1} & \textcolor{magenta}{Assessor 2} & Total \\
\hline
Top-Down approach  & 3 & & &  \\
\hline
Bottom-up approach & 0 & & & \\
\hline
Database capability & 1 & & & \\
\hline
Database query ability & 1 & & & \\
\hline
Safety requirement VnV & 3 & & & \\
\hline
Traceability & 3 & & & \\
\hline
Generation of documentation & 2 & & & \\
\hline
\end{tabular}

\begin{author_comment}
  The Event-B approach is based on iterative refinements form the most abstract
  model to the desired level of detail. It is therefore a to-down approach, a
  bottom-up approach does not make sense using Event-B.

  And database connection would require the development of additional plug-ins,
  but would be possible.

  VnV of safety requirements is achieved by formal proof and simulation to
  validate correct functionality.

  Traceability is achieved by the connection to ProR.

  Generation of some documentation is already supported, as Latex documents can
  be generated from models. For more extensive documentation, e.g.,\ links with
  safety requirements, some additional functionality would have to be developed.
\end{author_comment}

\section{Other comments}

\begin{author_comment}
  The application of Rodin for safety activity support consists mainly of a
  strong connection of (formalized) safety requirements to a formal model. This
  allows for
  \begin{itemize}
  \item validation of  the intended functionality via simulation
  \item tracing of the safety requirments in the formal model
  \item verification of the  correctness and  completeness of requirements via
    formal proof
  \item providing feedback of the safety requirements and safety case
  \item increasing  the confidence in the argumentation of the safety case
  \end{itemize}
\end{author_comment}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: "O7-2-1_Safety"
%%% End:
